import React, { useCallback, useState } from 'react';
import { useDrop } from 'react-dnd';

const Constructor = ({  }) => {
  const [blocks, setBlocks] = useState([]);

  const handleDrop = useCallback((name) => {
    setBlocks([...blocks, {
      id: blocks.length ? blocks[blocks.length - 1].id + 1 : 0,
      type: name,
      content: [],
    }]);
  },[blocks]);

  const [props, drop] = useDrop({
    accept: ['duplicate-action'],
    drop({ type }) {
      handleDrop(type);
    },
    collect: (monitor) => ({
      isOver: monitor.isOver(),
      canDrop: monitor.canDrop(),
      draggingColor: monitor.getItemType(),
    }),
  });

  return (
    <div ref={drop} id="constructor">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad aliquid at atque autem commodi deserunt dicta distinctio dolorem doloremque ea, enim eos esse exercitationem fugit harum hic id illo impedit ipsam ipsum iste labore modi molestias mollitia nam neque perferendis porro quae quis repellendus saepe tempora tenetur ut veritatis vero vitae voluptatibus. Aliquam asperiores dolor laudantium magnam nisi officia, quo tenetur veniam! A alias aspernatur atque consequatur corporis cumque cupiditate dicta dolore doloremque enim eos excepturi fuga fugit id illo ipsa ipsam ipsum magnam, minima modi molestiae molestias nihil perferendis placeat quae quas quidem quisquam quos reprehenderit repudiandae sed sit soluta vero? Dolore eligendi maiores, nobis soluta vitae voluptas. Ab at autem ea, enim et exercitationem illum ipsa iusto nesciunt obcaecati porro, possimus recusandae suscipit vitae voluptates. Accusantium adipisci aliquam amet asperiores at consectetur cum dicta dolorem, ducimus ea, eos est et expedita harum hic id illo iusto laboriosam natus nobis non odio pariatur porro quas, quisquam quo reprehenderit sed sequi sit sunt totam ullam vitae voluptatem? Accusantium eos est id ipsum laudantium, officia perferendis placeat porro praesentium quam quidem suscipit totam, veniam voluptate voluptatem. Accusantium, aliquam amet asperiores autem corporis distinctio dolor doloremque eligendi et ex, ipsa ipsum iste iusto magnam minima natus nemo nisi quas quia quis quo, ratione reprehenderit sed ullam vel! Accusantium architecto consequuntur corporis, deleniti dignissimos dolorum ducimus ea eveniet illo maiores natus nostrum placeat possimus quam quidem quos rerum sint totam ullam voluptatem. Aperiam assumenda aut deleniti dolorum ducimus enim ex incidunt laborum mollitia numquam perferendis praesentium quaerat quas qui quo recusandae, sapiente sint sit ullam velit. Ab deleniti deserunt, dolores eius enim esse eveniet, expedita explicabo fugiat harum ipsum laborum maiores nam nihil quam quasi, quibusdam quo quos recusandae reprehenderit repudiandae rerum sint sunt tempore totam. Assumenda culpa dolore facilis hic laudantium nemo quaerat repudiandae vel. Amet ea explicabo fuga impedit nesciunt nisi odio officiis. Animi, aperiam atque dolor dolorem dolores dolorum ea explicabo fugit hic illum magni maiores molestiae molestias nam natus officia omnis porro provident quo rerum suscipit ullam unde, vero voluptatem voluptates. Amet architecto aspernatur blanditiis delectus earum eius incidunt maiores minus nulla officiis pariatur porro possimus quidem similique ullam, vitae voluptatum. Assumenda, aut culpa delectus distinctio dolor doloremque et hic id illum impedit molestiae natus necessitatibus nemo nobis odio quas quidem sequi totam velit voluptatem! Animi dolores ducimus eum facilis hic id incidunt ipsa laborum laudantium mollitia optio placeat provident rerum saepe tempora ullam velit, voluptas voluptatum! Alias aperiam autem deleniti, ducimus, eum facilis harum id impedit obcaecati praesentium ratione, suscipit vero voluptas! Delectus deserunt distinctio impedit ipsa ipsum molestias possimus quas. Atque culpa dolores explicabo fugit iste magni, minima quas sapiente totam velit? Accusamus ad adipisci alias amet architecto at, aut consequuntur dolore doloribus ducimus eaque error est excepturi fuga fugiat id in ipsum, iste labore laborum nam nisi omnis porro quas ratione rem repellat repellendus repudiandae saepe sed sint sit soluta sunt suscipit tempora velit voluptates. Molestiae repudiandae, sequi. Ab ad asperiores, aspernatur assumenda consectetur cum dolore eaque eveniet id ipsam itaque laborum non omnis perferendis, placeat repellendus rerum sequi, sit suscipit voluptates. A commodi consequuntur, debitis dolorem, doloribus dolorum est hic laborum nesciunt nulla odio placeat, quibusdam quo ratione rerum suscipit tempora tenetur totam veniam vitae? A ab adipisci architecto at autem consequatur debitis dignissimos, distinctio doloribus ea eius eligendi error exercitationem facilis fuga fugiat ipsa ipsam libero magni maxime molestias mollitia non odio officiis omnis placeat possimus quasi quis quo quod quos sequi temporibus veritatis vero vitae voluptate voluptatibus. Aperiam at consequuntur fugiat, inventore natus non obcaecati officia quas saepe? A ad aliquid aut dolor, dolorem dolores doloribus ea enim eum facilis fuga fugiat fugit illum inventore ipsam magnam maxime minus natus obcaecati omnis porro quia quibusdam, quis quo repellendus rerum sed sequi similique sit suscipit temporibus ullam veritatis voluptatibus? Accusamus adipisci architecto aut, autem deserunt dolorum eos id ipsam laboriosam molestias nobis nostrum optio quasi quis quisquam quo rerum ullam, veniam. Dolore laudantium nobis optio perferendis! Ducimus eum iste praesentium qui repellat sed sequi, voluptate. Beatae cupiditate dignissimos distinctio et eum expedita facilis fugit inventore iusto labore laudantium, minima molestiae, obcaecati pariatur quas qui quia rem, saepe soluta voluptates! Corporis dolorem et eum impedit magnam modi mollitia provident quisquam, ratione voluptate. Aliquam dolores ducimus ea error, facilis fuga illo iste labore laudantium provident qui ut! Dolore facilis iusto laudantium libero tempore. Accusantium commodi consequuntur distinctio fuga labore minima quis quisquam. Ipsa neque odit rem. Animi facere ipsam ipsum iusto perferendis praesentium quaerat quia tenetur vel vitae. Animi debitis delectus eos expedita inventore pariatur possimus quidem tempore voluptatibus? Aliquid aspernatur atque, aut commodi cupiditate delectus distinctio dolorem ducimus exercitationem facilis fuga fugiat, harum hic ipsa laboriosam neque officiis perferendis placeat praesentium quae quaerat quos vitae voluptates. Ad animi aperiam consequatur deserunt distinctio expedita, perspiciatis quas saepe suscipit veniam. A accusamus animi asperiores atque blanditiis consectetur corporis, deleniti dolores eos error id illum impedit ipsa molestiae nesciunt obcaecati odit officiis optio quod repudiandae sed suscipit tempore tenetur ullam voluptas voluptatem, voluptates. Corporis cum excepturi facilis fugiat molestiae recusandae sequi, sint tenetur velit voluptatibus! A atque minima minus neque officiis, pariatur possimus unde voluptatum! Aliquid, amet beatae consequatur cum delectus dolorum, ea fugit iusto laborum laudantium maiores necessitatibus nisi officiis quis quo rem repellat tempora voluptate voluptatibus voluptatum! Atque culpa dolores doloribus hic praesentium! Explicabo fugit nisi quisquam. Ab aliquam aliquid amet architecto aut beatae consectetur, consequuntur dolor fuga laborum laudantium modi nemo, quasi recusandae saepe sit, voluptates voluptatibus. Asperiores id inventore ipsa iure maiores maxime numquam officia omnis optio. A animi asperiores aspernatur atque cum debitis earum eos est illum ipsam nihil nulla perferendis praesentium quam quos ratione, similique! Ad earum enim eum ipsum nam nisi quibusdam quidem reiciendis ullam veniam! A ad amet assumenda at, blanditiis deserunt dolor dolore, earum et eum eveniet ex excepturi facere illum, labore magnam minus molestias necessitatibus nemo neque nesciunt officia officiis optio provident quas quod reiciendis ullam. Ad adipisci alias aspernatur dolores fugit natus nobis odit pariatur quisquam repudiandae?
      {console.log(blocks)}
    </div>
  );
};

export default Constructor;
